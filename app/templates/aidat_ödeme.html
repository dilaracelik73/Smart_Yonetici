{% extends "layout.html" %}
{% block content %}
<div class="page-header p-4 mb-4 rounded-3 shadow-sm"
     style="background: linear-gradient(90deg, #e8f5e9 0%, #e3f2fd 100%); border-left: 6px solid #4caf50;">
  <div class="d-flex align-items-center">
    
    <!-- Ä°kon -->
    <div class="me-3 d-flex align-items-center justify-content-center rounded-circle"
         style="width:60px; height:60px; background:#4caf50; color:#fff; font-size:1.6rem;">
      <i class="fas fa-wallet"></i>
    </div>
    
    <!-- BaÅŸlÄ±k ve AÃ§Ä±klama -->
    <div>
      <h2 class="fw-bold text-dark mb-1">Aidat Ã–deme</h2>
      <p class="mb-0 text-muted" style="font-size:0.95rem;">
        Aidat Ã¶demenizi kolayca yapÄ±n ve geÃ§miÅŸ Ã¶demelerinizi gÃ¶rÃ¼ntÃ¼leyin.
      </p>
    </div>
    
  </div>
</div>

  

    <!-- Mail GÃ¶nder (SimÃ¼lasyon) Butonu -->
    <form action="{{ url_for('main.mail_goster') }}" method="get" class="mb-4">
        <button class="btn btn-warning">ğŸ“¬ Mail GÃ¶nder (SimÃ¼lasyon)</button>
    </form>

    {% if aidatlar %}
    <table class="table table-bordered aidat-table">
        <thead>
            <tr>
                <th>DÃ¶nem</th>
                <th>Tutar</th>
                <th>Son Ã–deme Tarihi</th>
                <th>Durum</th>
                <th>Ä°ÅŸlem</th>
            </tr>
        </thead>
        <tbody>
            {% for aidat in aidatlar %}
            <tr>
                <td>{{ aidat.aciklama }}</td>
                <td>{{ aidat.tutar }} â‚º</td>
                <td>{{ aidat.vade_tarihi.strftime('%Y-%m-%d') }}</td>
                <td>
                    {% if aidat.odendi %}
                    <span class="badge bg-success">Ã–dendi</span>
                    {% else %}
                    <span class="badge bg-danger">Ã–denmedi</span>
                    {% endif %}
                </td>
                <td>
                    {% if not aidat.odendi %}
                    <form method="POST">
                        <input type="hidden" name="aidat_id" value="{{ aidat.id }}">
                       <button class="btn btn-sm btn-warning">
  <i class="fas fa-check-circle"></i> Ã–de
</button>
                    </form>
                    {% else %}
                    -
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="alert alert-info">Ã–denmemiÅŸ aidat bulunmamaktadÄ±r.</div>
    {% endif %}
    <!-- Bilgilendirici Kartlar -->
<div class="row g-4 mt-4 usage-cards">
  <!-- 1) NasÄ±l KullanÄ±lÄ±r -->
  <div class="col-md-4">
    <div class="card h-100 border-0 shadow-sm card-green">
      <div class="card-body">
        <div class="d-flex align-items-center mb-2">
          <div class="icn me-2"><i class="fas fa-info-circle"></i></div>
          <h5 class="mb-0">Bu SayfayÄ± NasÄ±l KullanÄ±rÄ±m?</h5>
        </div>
        <ul class="card-text text-muted mb-3" style="color:black">  
          <li>Listeden <strong>DÃ¶nem ve Tutar</strong> bilgilerini kontrol edin.</li>
          <li>Durumu <span class="badge bg-danger">Ã–denmedi</span> olan satÄ±rlarda <strong>Ã–de</strong> butonuna tÄ±klayÄ±n.</li>
          <li>Ã–deme sonrasÄ± tablo otomatik gÃ¼ncellenir; durum <span class="badge bg-success">Ã–dendi</span> olur.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- 2) Ã–deme YÃ¶ntemleri -->
  <div class="col-md-4">
    <div class="card h-100 border-0 shadow-sm card-blue">
      <div class="card-body">
        <div class="d-flex align-items-center mb-2">
          <div class="icn me-2"><i class="fas fa-credit-card"></i></div>
          <h5 class="mb-0">Ã–deme YÃ¶ntemleri</h5>
        </div>
        <ul class="card-text text-muted mb-3">
          <li><strong>Kart ile:</strong> Kredi/Banka kartÄ± â€“ 3D Secure destekli.</li>
          <li><strong>Havale/EFT:</strong> AÃ§Ä±klamaya <em>Daire No + DÃ¶nem</em> yazÄ±n.</li>
          <li><strong>KapÄ±da/Ofiste:</strong> YÃ¶netime elden Ã¶deme (makbuzlu).</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- 3) GÃ¼venlik & Ä°puÃ§larÄ± -->
  <div class="col-md-4">
    <div class="card h-100 border-0 shadow-sm card-amber">
      <div class="card-body">
        <div class="d-flex align-items-center mb-2">
          <div class="icn me-2"><i class="fas fa-shield-alt"></i></div>
          <h5 class="mb-0">GÃ¼venlik ve Ä°puÃ§larÄ±</h5>
        </div>
        <ul class="card-text text-muted mb-3">
          <li>Ã–demeyi yalnÄ±zca bu sayfadan baÅŸlatÄ±n; ÅŸÃ¼pheli linklere tÄ±klamayÄ±n.</li>
          <li>Ã–deme sonrasÄ± e-posta bildirimini kontrol edin.</li>
          
        </a>
      </div>
    </div>
  </div>
</div>
</div>


<style>
.aidat-table thead th {
    background-color: #2e7d32 !important;
    color: black !important;
}</style>




<style>
    /* KartlarÄ±n genel gÃ¶rÃ¼nÃ¼mÃ¼ */
.usage-cards .card {
  border-radius: 20px; /* Daha yuvarlak kÃ¶ÅŸe */
  overflow: hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.usage-cards .card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
}

/* Ãœstte daire ikon */
.usage-cards .icn {
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%; /* Tam daire */
  font-size: 1.4rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

/* YeÅŸil kart */
.card-green .icn {
  background: #e8f5e9;
  color: #4caf50;
}
.card-green .card-body {
  background: linear-gradient(180deg, #e8f5e9 0%, #f3fbf4 100%);
  border-left: none;
}

/* Mavi kart */
.card-blue .icn {
  background: #e3f2fd;
  color: #2196f3;
}
.card-blue .card-body {
  background: linear-gradient(180deg, #e3f2fd 0%, #f4f8ff 100%);
  border-left: none;
}

/* Amber kart */
.card-amber .icn {
  background: #fff3e0;
  color: #ff9800;
}
.card-amber .card-body {
  background: linear-gradient(180deg, #fff3e0 0%, #fff8e6 100%);
  border-left: none;
}

/* YazÄ± dÃ¼zeni */
.usage-cards h5 {
  font-weight: bold;
  margin-top: 0.8rem;
}
.usage-cards ul {
  padding-left: 1.2rem;
  line-height: 1.5;
}


</style>



{% endblock %}
